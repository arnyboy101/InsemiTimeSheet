var t,e=require("react"),o=(t=require("ms"))&&"object"==typeof t&&"default"in t?t.default:t,n=function(t,e,o){return(t>9?t:"0"+t)+":"+(e>9?e:"0"+e)+":"+(o>9?o:"0"+o)},s=function(t){function e(e){t.call(this,e);var o=e.hours,s=e.minutes,r=e.seconds,i=n(o,s,r);this.intervalId=setInterval(function(){},Number.MAX_VALUE),this.state={formatted:i,stateHours:o,stateMinutes:s,stateSeconds:r}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.componentWillReceiveProps=function(){this.intervalId=setInterval(function(){},Number.MAX_VALUE),this.setState({stateHours:0,stateMinutes:0,stateSeconds:0})},e.prototype.componentDidMount=function(){this.props.autoStart&&this.timer()},e.prototype.componentWillUnmount=function(){this.stopToCount()},e.prototype.stopToCount=function(){clearInterval(this.intervalId)},e.prototype.counter=function(){var t=this,e=this.props,o=e.limit,s=e.withLoop,r=e.onCallback,i=e.onChange,a=this.state,u=a.stateHours,c=a.stateMinutes,p=a.stateSeconds;this.setState(function(t){return{stateSeconds:t.stateSeconds+1}}),p>=59&&(this.setState(function(t){return{stateSeconds:0,stateMinutes:t.stateMinutes+1}}),c>=59&&this.setState(function(t){return{stateMinutes:0,stateHours:t.stateHours+1}}));var h=n(u,c,p);this.setState({formatted:h}),i({hours:u,minutes:c,seconds:p}),o===h&&setTimeout(function(){t.stopToCount(),s&&t.timer(),r()},0)},e.prototype.timer=function(){var t=this;this.counter();var e=setInterval(function(){t.counter()},o("1s"));this.intervalId=e},e.prototype.render=function(){var t=this.props,e=t.children,o=t.render,n=this.state,s=n.formatted,r=n.stateHours,i=n.stateMinutes,a=n.stateSeconds;return e?e({formatted:s,hours:r,minutes:i,seconds:a}):o?o({formatted:s,hours:r,minutes:i,seconds:a}):(console.error("Component ReactStopWatch:","no children or render prop are present"),null)},e}(e.PureComponent);s.displayName="ReactStopWatch",s.defaultProps={autoStart:!0,withLoop:!1,onCallback:function(){},onChange:function(){}},module.exports=s;
